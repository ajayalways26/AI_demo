CREATE OR REPLACE TABLE adam_data_engg_fsi_demo.EDW_STAGE.TRANSACTION (
    TRANSACTION_ID BIGINT NOT NULL COMMENT 'Primary key for the transaction table',
    TRANSACTION_REFERENCE VARCHAR(64) NOT NULL COMMENT 'Reference identifier for the transaction',
    CUSTOMER_ID BIGINT NOT NULL COMMENT 'Foreign key referencing CUSTOMER table',
    ACCOUNT_ID BIGINT NOT NULL COMMENT 'Foreign key referencing ACCOUNT table',
    TRANSACTION_TYPE_ID BIGINT NOT NULL COMMENT 'Foreign key referencing TRANSACTION_TYPE table',
    TRANSACTION_STATUS_ID BIGINT NOT NULL COMMENT 'Foreign key referencing TRANSACTION_STATUS table',
    TRANSACTION_AMOUNT DECIMAL(18,2) NOT NULL COMMENT 'Amount of the transaction',
    CURRENCY_ID BIGINT NOT NULL COMMENT 'Foreign key referencing CURRENCY table',
    TRANSACTION_DATE TIMESTAMP_NTZ NOT NULL COMMENT 'Date and time of the transaction',
    VALUE_DATE DATE COMMENT 'The value date of the transaction (nullable)',
    TRANSACTION_CHANNEL_ID BIGINT NOT NULL COMMENT 'Foreign key referencing TRANSACTION_CHANNEL table',
    REMARKS VARCHAR(256) COMMENT 'Remarks about the transaction (nullable)',
    CREATED_BY VARCHAR(64) NOT NULL COMMENT 'User who created the record',
    CREATED_AT TIMESTAMP_NTZ NOT NULL COMMENT 'Timestamp when the record was created',
    UPDATED_BY VARCHAR(64) COMMENT 'User who last updated the record (nullable)',
    UPDATED_AT TIMESTAMP_NTZ COMMENT 'Timestamp when the record was last updated (nullable)',
    STG_CREATED_BY VARCHAR(64) NOT NULL COMMENT 'User who created the staging record',
    STG_CREATED_AT TIMESTAMP_NTZ NOT NULL COMMENT 'Timestamp when the staging record was created',
    STG_UPDATED_BY VARCHAR(64) COMMENT 'User who last updated the staging record (nullable)',
    STG_UPDATED_AT TIMESTAMP_NTZ COMMENT 'Timestamp when the staging record was last updated (nullable)',

    CONSTRAINT PK_TRANSACTION PRIMARY KEY (TRANSACTION_ID),
    CONSTRAINT FK_TRANSACTION_ACCOUNT FOREIGN KEY (ACCOUNT_ID) REFERENCES adam_data_engg_fsi_demo.EDW_STAGE.ACCOUNT (ACCOUNT_ID),
    CONSTRAINT FK_TRANSACTION_CUSTOMER FOREIGN KEY (CUSTOMER_ID) REFERENCES adam_data_engg_fsi_demo.EDW_STAGE.CUSTOMER (CUSTOMER_ID),
    CONSTRAINT FK_TRANSACTION_CURRENCY FOREIGN KEY (CURRENCY_ID) REFERENCES adam_data_engg_fsi_demo.EDW_STAGE.CURRENCY (CURRENCY_ID),
    CONSTRAINT FK_TRANSACTION_TYPE FOREIGN KEY (TRANSACTION_TYPE_ID) REFERENCES adam_data_engg_fsi_demo.EDW_STAGE.TRANSACTION_TYPE (TRANSACTION_TYPE_ID),
    CONSTRAINT FK_TRANSACTION_STATUS FOREIGN KEY (TRANSACTION_STATUS_ID) REFERENCES adam_data_engg_fsi_demo.EDW_STAGE.TRANSACTION_STATUS (TRANSACTION_STATUS_ID),
    CONSTRAINT FK_TRANSACTION_CHANNEL FOREIGN KEY (TRANSACTION_CHANNEL_ID) REFERENCES adam_data_engg_fsi_demo.EDW_STAGE.TRANSACTION_CHANNEL (TRANSACTION_CHANNEL_ID)
)